<script>
  window.onload = function() {
    const urlParams = new URLSearchParams(window.location.search);
    const username = urlParams.get('username');
    const password = urlParams.get('password');

    if (username && password) {
      // Remplir les champs
      document.querySelector('#username').value = username;
      document.querySelector('#password').value = password;

      // Attendre que le CAPTCHA soit résolu avant de soumettre
      document.querySelector('#loginForm').addEventListener('submit', function(event) {
        if (!grecaptcha.getResponse()) {
          event.preventDefault();
          alert('Veuillez résoudre le CAPTCHA avant de continuer.');
        }
      });
    }
  };
</script>
